http://mbed.org/users/mariob/code/ssWi/#36931ee9af85
